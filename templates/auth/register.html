{% extends 'base.html' %}

{% block title %}{{ _('Register') }} | TEEtimeVN{% endblock %}

{% block content %}
<div class="row justify-content-center">
  <div class="col-lg-6">
    <div class="card shadow-sm">
      <div class="card-header bg-success text-white">
        <h5 class="mb-0">{{ _('Create an Account') }}</h5>
      </div>
      <div class="card-body">
      <form method="post" action="{{ url_for('auth.register', lang=lang) }}">
  <div class="mb-3">
    <label class="form-label">{{ _('Email') }}</label>
    <input type="email" name="email" class="form-control"
           required placeholder="{{ _('you@example.com') }}"
           value="{{ form.email if form else '' }}">
    {% if errors and errors.get('email') %}
      <div class="invalid-feedback d-block">{{ errors.get('email') }}</div>
    {% endif %}
  </div>

  <div class="mb-3">
    <label class="form-label">{{ _('Username') }}</label>
    <input type="text" name="username" id="reg_username" class="form-control"
           required minlength="3" maxlength="20"
           pattern="^[a-zA-Z0-9_.-]+$"
           oninput="this.value=this.value.trimStart()"
           placeholder="{{ _('Choose a username') }}"
           value="{{ form.username if form else '' }}">
    {% if errors and errors.get('username') %}
      <div class="invalid-feedback d-block">{{ errors.get('username') }}</div>
    {% endif %}
  </div>

  <div class="mb-3">
    <label class="form-label">{{ _('Password') }}</label>
    <input type="password" name="password" class="form-control"
           required minlength="8"
           pattern="^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[^\w\s]).{8,}$"
           title="{{ _('At least 8 characters with uppercase, lowercase, number, and special character') }}"
           placeholder="{{ _('Choose a password') }}">
    {% if errors and errors.get('password') %}
      <div class="invalid-feedback d-block">{{ errors.get('password') }}</div>
    {% endif %}
  </div>

  <div class="mb-3">
    <label class="form-label">{{ _('Confirm Password') }}</label>
    <input type="password" name="confirm_password" class="form-control"
           required placeholder="{{ _('Re-enter password') }}">
    {% if errors and errors.get('confirm_password') %}
      <div class="invalid-feedback d-block">{{ errors.get('confirm_password') }}</div>
    {% endif %}
  </div>

  <!-- phone -->
  <div class="mb-3">
    <label class="form-label">{{ _('Phone Number') }}</label>
    <input type="text" name="phone" class="form-control"
           placeholder="{{ _('Optional') }}"
           value="{{ form.phone if form else '' }}">
  </div>

  <!-- fullname -->
  <div class="mb-3">
    <label class="form-label">{{ _('Full Name') }}</label>
    <input type="text" name="fullname" class="form-control"
           placeholder="{{ _('Your full name') }}"
           value="{{ form.fullname if form else '' }}">
  </div>


  <button type="submit" class="btn btn-success w-100">{{ _('Register') }}</button>
</form>

        <div class="mt-3 text-center">
          <a href="{{ url_for('auth.login', lang=lang) }}">{{ _('Already have an account? Sign in') }}</a>
        </div>
      </div>
    </div>
  </div>
</div>
{% endblock %}
